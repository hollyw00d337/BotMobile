version: "3.1"

intents:
  - saludar
  - despedida
  - seleccionar_opcion
  - regresar_menu
  - informar
  - informar_compania

entities:
  - numero_opcion
  - compania_operador

slots:
  estado_menu:
    type: text
    initial_value: menu_principal
    influence_conversation: true
    mappings:
      - type: custom
  
  nombre_usuario:
    type: text
    initial_value: null
    influence_conversation: false
    mappings:
      - type: custom
  
  correo_usuario:
    type: text
    initial_value: null
    influence_conversation: false
    mappings:
      - type: custom
  
  nip_usuario:
    type: text
    initial_value: null
    influence_conversation: false
    mappings:
      - type: custom
  
  imei_usuario:
    type: text
    initial_value: null
    influence_conversation: false
    mappings:
      - type: custom

  numero_telefono:
    type: text
    initial_value: null
    influence_conversation: false
    mappings:
      - type: custom

  compania_operador:
    type: text
    initial_value: null
    influence_conversation: true
    mappings:
      - type: custom

responses:
  utter_despedida:
    - text: "¬°Hasta la vista! üëã Espero haberte ayudado. Regresa cuando gustes."

  utter_saludo_personalizado:
    - condition:
        - type: slot
          name: compania_operador
          value: Telcel
      text: "üéØ ¬°Hola! Detect√© que vienes de Telcel. Te ayudo con tu portabilidad a BotMobile de manera s√∫per f√°cil.\n\nüí∞ **¬°Ahorra $80 pesos al mes!**\nTelcel: $300/mes por 8GB\nBotMobile: $220/mes por 72GB\n\n¬øTe interesa conocer m√°s?"
    - condition:
        - type: slot
          name: compania_operador
          value: AT&T
      text: "üéØ ¬°Hola! Veo que eres cliente de AT&T. Te explico c√≥mo cambiarte a BotMobile paso a paso.\n\nüí∞ **¬°Ahorra $180 pesos al mes!**\nAT&T: $400/mes por 20GB + HBO Max\nBotMobile: $220/mes por 72GB + Netflix + Disney+ + Prime\n\n¬øQuieres saber c√≥mo hacer el cambio?"
    - condition:
        - type: slot
          name: compania_operador
          value: Movistar
      text: "üéØ ¬°Perfecto! Eres de Movistar. Conozco muy bien el proceso para cambiarte a BotMobile.\n\nüí∞ **Mejor oferta garantizada:**\nMovistar: $250/mes por 12GB + Disney+\nBotMobile: $220/mes por 72GB + Netflix + Disney+ + Prime\n\n¬øTe gustar√≠a conocer los pasos?"
    - condition:
        - type: slot
          name: compania_operador
          value: Unefon
      text: "üéØ ¬°Hola! Vienes de Unefon. Te ayudo a mejorar tu plan con BotMobile.\n\nüí∞ **Upgrade completo:**\nUnefon: $200/mes por 6GB\nBotMobile: $220/mes por 72GB + streaming\n\n¬øSolo $20 pesos m√°s por 12x m√°s datos!"
    - condition:
        - type: slot
          name: compania_operador
          value: Virgin
      text: "üéØ ¬°Excelente! Eres de Virgin Mobile. Te muestro c√≥mo mejorar con BotMobile.\n\nüí∞ **M√°s por menos:**\nVirgin: $180/mes por 4GB\nBotMobile: $220/mes por 72GB + plataformas\n\n¬øTe interesa conocer el proceso de cambio?"
    - condition:
        - type: slot
          name: compania_operador
          value: Bait
      text: "üéØ ¬°Perfecto! Vienes de Bait. Te ayudo con tu portabilidad a BotMobile.\n\nüí∞ **BotMobile te ofrece:**\nüì± 72GB por solo $220/mes\nüé¨ Netflix + Disney+ + Prime incluido\nüì∂ Cobertura nacional garantizada\n\n¬øTe gustar√≠a conocer c√≥mo hacer el cambio?"
    - condition:
        - type: slot
          name: compania_operador
          value: Flash Mobile
      text: "üéØ ¬°Perfecto! Vienes de Flash Mobile. Te ayudo con tu portabilidad a BotMobile.\n\nüí∞ **BotMobile te ofrece:**\nüì± 72GB por solo $220/mes\nüé¨ Netflix + Disney+ + Prime incluido\nüì∂ Cobertura nacional garantizada\n\n¬øTe gustar√≠a conocer c√≥mo hacer el cambio?"
    - condition:
        - type: slot
          name: compania_operador
          value: Weex
      text: "üéØ ¬°Perfecto! Vienes de Weex. Te ayudo con tu portabilidad a BotMobile.\n\nüí∞ **BotMobile te ofrece:**\nüì± 72GB por solo $220/mes\nüé¨ Netflix + Disney+ + Prime incluido\nüì∂ Cobertura nacional garantizada\n\n¬øTe gustar√≠a conocer c√≥mo hacer el cambio?"
    - text: "üéØ ¬°Perfecto! Te ayudo con tu portabilidad a BotMobile.\n\nüí∞ **BotMobile te ofrece:**\nüì± 72GB por solo $220/mes\nüé¨ Netflix + Disney+ + Prime incluido\nüì∂ Cobertura nacional garantizada\n\n¬øTe gustar√≠a conocer c√≥mo hacer el cambio?"

  utter_nip_personalizado:
    - condition:
        - type: slot
          name: compania_operador
          value: Telcel
      text: "üì± **Obtener tu NIP de Telcel:**\n\n1Ô∏è‚É£ Marca *133# desde tu Telcel\n2Ô∏è‚É£ Selecciona \"Portabilidad num√©rica\"\n3Ô∏è‚É£ Recibir√°s tu c√≥digo por SMS\n\n‚ö° ¬°Es s√∫per r√°pido! El proceso toma menos de 2 minutos."
    - condition:
        - type: slot
          name: compania_operador
          value: AT&T
      text: "üì± **Obtener tu NIP de AT&T:**\n\n1Ô∏è‚É£ Llama al *611 desde tu AT&T\n2Ô∏è‚É£ Solicita \"c√≥digo de portabilidad\"\n3Ô∏è‚É£ O usa la app MiAT&T > Configuraci√≥n\n\nüîí Necesitar√°s verificar tu identidad con INE."
    - condition:
        - type: slot
          name: compania_operador
          value: Movistar
      text: "üì± **Obtener tu NIP de Movistar:**\n\n1Ô∏è‚É£ Marca *611 desde tu Movistar\n2Ô∏è‚É£ Di \"quiero mi c√≥digo NIP\"\n3Ô∏è‚É£ O env√≠a SMS \"NIP\" al 3991\n\nüí° Lo recibir√°s al instante por SMS."
    - condition:
        - type: slot
          name: compania_operador
          value: Bait
      text: "üì± **Obtener tu NIP de Bait:**\n\n1Ô∏è‚É£ Marca *264 desde tu Bait\n2Ô∏è‚É£ O llama al 264 desde otro tel√©fono\n3Ô∏è‚É£ Solicita tu \"c√≥digo de portabilidad\"\n\n‚è±Ô∏è El NIP llega por SMS en 5-15 minutos."
    - condition:
        - type: slot
          name: compania_operador
          value: Flash Mobile
      text: "üì± **Obtener tu NIP de Flash Mobile:**\n\n1Ô∏è‚É£ Marca *843 desde tu Flash\n2Ô∏è‚É£ O llama al 843 desde otro tel√©fono\n3Ô∏è‚É£ Solicita tu \"c√≥digo de portabilidad\"\n\n‚è±Ô∏è El NIP llega por SMS en 5-15 minutos."
    - condition:
        - type: slot
          name: compania_operador
          value: Weex
      text: "üì± **Obtener tu NIP de Weex:**\n\n1Ô∏è‚É£ Marca *50 desde tu Weex\n2Ô∏è‚É£ O llama al 050 desde otro tel√©fono\n3Ô∏è‚É£ Solicita tu \"c√≥digo de portabilidad\"\n\n‚è±Ô∏è El NIP llega por SMS en 5-15 minutos."
    - text: "üì± **Obtener tu NIP de tu operador:**\n\n1Ô∏è‚É£ Marca *051 desde tu celular\n2Ô∏è‚É£ Solicita tu \"c√≥digo de portabilidad\"\n3Ô∏è‚É£ Tambi√©n puedes llamar a atenci√≥n a clientes\n\nüìû **N√∫meros comunes:**\n‚Ä¢ Bait: *264 o 264\n‚Ä¢ Flash Mobile: *843 o 843\n‚Ä¢ Weex: *50 o 050\n‚Ä¢ OMV gen√©ricos: *051\n\n‚è±Ô∏è El NIP generalmente llega en 5-15 minutos."

actions:
  - action_session_start
  - action_elegir_opcion
  - action_default_fallback
  - action_procesar_compania

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true
